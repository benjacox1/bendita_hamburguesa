<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Producto</title>
  <link rel="stylesheet" href="producto.css" />
</head>
<body>
  <header class="topbar">
    <a href="../index.html" class="back">← Volver</a>
    <h1 id="titulo-prod">Producto</h1>
    <a href="../Carrito de compras/carrito.html" class="cart-btn" id="btn-cart-det" aria-label="Ir al carrito" style="margin-left:auto;">
      <span class="cart-icon" aria-hidden="true">🛒</span>
      <span class="cart-text">Carrito</span>
      <span class="cart-count" id="cart-count-det">0</span>
    </a>
  </header>

  <main id="contenedor" class="container">
    <div id="estado-carga" class="msg">Cargando...</div>
    <div id="error-box" style="display:none" class="msg error"></div>
  </main>

  <template id="tpl-producto">
    <article class="producto">
      <div class="media">
        <img id="prod-imagen" alt="Producto" loading="lazy" />
        <div class="thumbs" id="galeria-thumbs"></div>
        <button type="button" class="zoom-btn" id="btn-zoom" aria-label="Zoom">🔍</button>
      </div>
      <div class="info">
        <h2 id="prod-nombre"></h2>
        <p id="prod-descripcion" class="desc"></p>
        <p class="precio"><span id="prod-precio"></span></p>
        <p class="categoria" id="prod-categoria"></p>

        <form id="form-agregar" class="pedido-box">
          <h3>Agregar al carrito</h3>
          <label>Cantidad
            <input type="number" name="cantidad" value="1" min="1" required />
          </label>
          <button class="primary" type="submit">Agregar</button>
          <div class="mini" id="resultado"></div>
          <p class="mini">Luego podrás pagar todo junto en el carrito.</p>
        </form>
      </div>
    </article>
  </template>

  <!-- Modal Zoom -->
  <div class="zoom-overlay" id="zoom-overlay" aria-hidden="true">
    <div class="zoom-stage" id="zoom-stage">
      <img id="zoom-img" alt="Zoom" />
      <button type="button" class="zoom-close" id="zoom-close" aria-label="Cerrar">×</button>
      <div class="zoom-hint" id="zoom-hint">Rueda o pellizca para acercar. Arrastra para mover.</div>
    </div>
  </div>

  <script src="../config.js"></script>
  <script src="producto.js"></script>

  <!-- Mini panel del carrito (popover) para la página de detalle -->
  <div id="cart-mini" class="cart-mini" aria-hidden="true"></div>

  
  <footer class="footer" style="text-align:center;padding:12px 0;color:#6b7280;">
    <small><a href="../legal.html">Privacidad y Cookies</a></small>
  </footer>
</body>
</html>
